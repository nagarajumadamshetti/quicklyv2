# Tenant details
name:     # Provide the name of your org
logging: # true/false. If true create a transit VPC and add the logging server
vpcs: # if multiple VPCs create a transit VPC
  - name:   # Provide name of your vpc
    location:  # Provide the desired locations (as cities) of your edge where the CDN has to be implemented 
    cdn:
      ha: # true/false. Provde input for high availibility
      origin: # Origin server

    subnets:
      - name:  # Provide the name of subnets required for each vpc
        mode:  # nat/route mode
        gateway: '192.168.131.1/24' # Provide gateway details
        dhcp: # Provide the start, end range and mask  of dhcp ip addresses
          start: 
          end: 
          mask: 

      # - name: net1  # Provide the name of subnets required for each vpc
      #   mode: nat # nat/route 
      #   gateway: '192.168.131.1/24' 
      #   dhcp: 
      #     start: 192.168.131.2
      #     end: 192.168.131.254
      #     mask: 255.255.255.0

    vms:
      - name: vm11 # Provide the name of the VM
        memory: 2048 # Memory
        vcpu: 2 
        capacity: 12  # ROM in GB 
        interfaces:
          - name: eth0 # interface name
            subnet: net1 # must be same as subnet name that the VM must be connected to
            dhcp: true
          - name: eth1  
            subnet: net2
            ipaddr: '192.168.131.2/24'  #ipaddr

  - name:   # Provide the list of names of your desired vpcs
    location:  # Provide the desired locations (as cities) of your edge where the CDN has to be implemented 
    subnets:
      - name:  # Provide the name of subnets required for each vpc
        mode:  # nat/route mode
        gateway: '192.168.131.1/24' # Provide gateway details
        dhcp: # Provide the start, end range and mask  of dhcp ip addresses
          start: 
          end: 
          mask: 

      # - name: net1  # Provide the name of subnets required for each vpc
      #   mode: nat # nat/route 
      #   gateway: '192.168.131.1/24' 
      #   dhcp: 
      #     start: 192.168.131.2
      #     end: 192.168.131.254
      #     mask: 255.255.255.0

    vms:
      - name: vm11 # Provide the name of the VM
        memory: 2048 # Memory
        vcpu: 2 
        capacity: 12  # ROM in GB 
        interfaces:
          - name: eth0 # interface name
            subnet: net1 # must be same as subnet name that the VM must be connected to
            dhcp: true
          - name: eth1  
            subnet: net2
            ipaddr: '192.168.131.2/24'  #ipaddr

      - name: vm11 
        memory: 2048 
        vcpu: 2 
        capacity: 12   
        interfaces:
          - name: eth0 
            subnet: net1 must be same as subnet name
            dhcp: true
          - name: eth1  
            subnet: net2
            ipaddr: '192.168.131.2/24'  #ipaddr 
            gateway: '192.168.131.1'

cdns:
# Multiple cdn instance limited by port collision on the same VPC
# A single VPC can host a single origin or pop location on the same port numbers
- instance: ffff  # id+ff
  origin: # Origin server
    vmid:
    vmname:
    vmport: # port on the VM where service is running
    vpcport:  # port to be exposed on the VPC / public IP
  pop:
    - vmid:
      vmname:
      vmport:
      vpcport:
    - vmid:
      vmname:
      vmport:
      vpcport:
    - vmid:
      vmname:
      vmport:
      vpcport:
